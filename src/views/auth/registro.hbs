 <div class="container p-4">
  <form action="/registro" method="post">
    <div class="form-row p-2">
      <div class="col">
        <label for="name">Name</label>
        <input type="text" class="form-control" placeholder="First name" id="name" name="name">
      </div>
      <div class="col">
        <label for="apellidos">Last Name</label>
        <input type="text" class="form-control" placeholder="Last name" id="apellidos" name="lastname">
      </div>
    </div>

    <div class="form-row p-2">
      <div class="col">
        <label for="name">Indentification</label>
        <input type="text" class="form-control" placeholder="Identification" id="name" name="ident">
      </div>
      <div class="col">
        <label for="Genero">Gender</label>
        <select class="form-control" id="Genero" name="gender">
          <option>-----</option>
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>
    </div>

    <div class="form-row p-2">
      <div class="col">
        <label for="name">Age</label>
        <input type="number" class="form-control" placeholder="Age" id="age" name="age" min="1" max="100">
      </div>
      <div class="col">
        <label for="Genero">Blood Type</label>
        <select class="form-control" id="bt" name="bt">
          <option>-----</option>
          <option>A+</option>
          <option>B+</option>
          <option>O+</option>
          <option>AB+</option>
          <option>A-</option>
          <option>B-</option>
          <option>O-</option>
          <option>AB-</option>
        </select>
      </div>

      <div class="col">
        <label for="name">Date</label>
        <input type="date" class="form-control" placeholder="date" id="date" name="date">
      </div>
    </div>


    <div class="form-row p-2">
      <div class="col">
        <label for="name">Occupation</label>
        <input type="text" class="form-control" placeholder="Occupation" id="oc" name="oc">
      </div>
      <div class="col">
        <label for="Genero">Estado Civil</label>
        <select class="form-control" id="ec" name="ec">
          <option>-----</option>
          <option>Soltero</option>
          <option>Casado</option>
        </select>
      </div>
      <div class="col">
        <label for="name">Phone</label>
        <input type="tel" class="form-control" placeholder="Phone" id="tel" name="phone">
      </div>
    </div>






    <div class="form-row p-2">
      <div class="col">
        <label for="name">Address</label>
        <input type="text" class="form-control" placeholder="address" id="add" name="address">
      </div>
      <div class="col">
        <label for="apellidos">Place of residence</label>
        <input type="text" class="form-control" placeholder="Place of residence" id="pr" name="pr">
      </div>
    </div>


    <div class="form-group p-2">
      <label for="exampleFormControlFile1">ecg data</label>
      <input type="file" class="form-control-file" id="file" name="ecg">
    </div>



    <script src="https://unpkg.com/blob-util@2.0.2/dist/blob-util.js"></script>
    <script>
      
      
      
      const input = document.querySelector(`input[type="file"]`).addEventListener("change", function () {

        const reader = new FileReader();
      


        reader.addEventListener("load", () => {
        console.log(reader.result)
        var blob = blobUtil.arrayBufferToBlob(reader.result, '.mat')
        console.log('here is a blob', blob);
        console.log('its size is', blob.size);
        console.log('its type is', blob.type);

          
        
          
          
          fetch('/registro2', {

            // HTTP request type
            method: "POST",
            headers: {
              "Content-Type": "application/octet-stream",
              "Content-length": blob.size
            },
            // Sending our blob with our request
            body: blob
          })
            .then(response => console.log('Blob Uploaded'))
            .catch(err => console.error(err));


        });

        reader.readAsArrayBuffer(this.files[0])
      })

    </script>

    
    <div class="form-group p-2">
      <button class="btn btn-success btn-block">
        Enviar
      </button>
    </div>

  </form>

</div>